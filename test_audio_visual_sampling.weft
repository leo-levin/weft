// Test visual-audio sampling
// Load an image and use it to modulate audio based on mouse position

load("assets/jerome.jpg")::img<r,g,b>

// Display the image so we can see it
display(img@r, img@g, img@b)

// Play a sine wave modulated by the red channel at mouse position
// This should sample img@r at (mouse@x, mouse@y) and use it as amplitude
play(sin(me@time * 880 * 2 * 3.14159) * img@r(mouse@x, mouse@y))